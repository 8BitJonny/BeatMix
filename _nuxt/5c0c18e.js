(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{272:function(t,e,n){var content=n(288);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("3bfd5e92",content,!0,{sourceMap:!1})},273:function(t,e,n){var content=n(293);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("17707374",content,!0,{sourceMap:!1})},274:function(t,e,n){var content=n(295);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("f41ff6c0",content,!0,{sourceMap:!1})},275:function(t,e,n){var content=n(297);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("56944291",content,!0,{sourceMap:!1})},276:function(t,e,n){var content=n(299);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("6c80f832",content,!0,{sourceMap:!1})},283:function(t,e,n){t.exports=n.p+"img/music-disc.7633823.png"},287:function(t,e,n){"use strict";n(272)},288:function(t,e,n){var r=n(12)((function(i){return i[1]}));r.push([t.i,".sub[data-v-9c44690a]{\n  margin-top:0.5rem\n}",""]),t.exports=r},289:function(t,e,n){t.exports=n.p+"img/gear.11462f0.svg"},291:function(t,e,n){t.exports=n.p+"img/icons8-delete.e2f3566.svg"},292:function(t,e,n){"use strict";n(273)},293:function(t,e,n){var r=n(12)((function(i){return i[1]}));r.push([t.i,".filter-list-item[data-v-0a1bbdb0]{\n  margin:0 0 .6rem;\n  display:flex\n}\n.select[data-v-0a1bbdb0]{\n  padding:3px;\n  border-radius:4px;\n  background-color:#2e3838;\n  margin:0 .25rem;\n  outline:2px solid transparent;\n  outline-offset:2px;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity));\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none\n}\n.select option[disabled][data-v-0a1bbdb0]{\n  display:none\n}\n.artist-select[data-v-0a1bbdb0]{\n  width:8rem\n}\n.year-select[data-v-0a1bbdb0]{\n  width:5.5rem\n}\n.text-green[data-v-0a1bbdb0]{\n  color:#1db954;\n  margin-top:0.5rem;\n  outline:2px solid transparent;\n  outline-offset:2px;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none\n}\n.delete-filter-button[data-v-0a1bbdb0]{\n  transition:.7s;\n  -webkit-transition:.7s;\n  -moz-transition:.7s;\n  -ms-transition:.7s;\n  -o-transition:.7s;\n  outline:2px solid transparent;\n  outline-offset:2px;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none\n}\n.delete-filter-button[data-v-0a1bbdb0]:hover{\n  transform:rotate(90deg)\n}",""]),t.exports=r},294:function(t,e,n){"use strict";n(274)},295:function(t,e,n){var r=n(12)((function(i){return i[1]}));r.push([t.i,".settings-wrapper[data-v-50c668e3]{\n  bottom:100%;\n  border-radius:4px;\n  border:1px solid #282323;\n  background:#191414;\n  box-shadow:0 4px 4px #000;\n  margin-bottom:0.5rem;\n  outline:2px solid transparent;\n  outline-offset:2px;\n  padding:0.5rem;\n  position:absolute;\n  right:0px;\n  text-align:left;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity));\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none;\n  white-space:nowrap\n}\n.big-settings-modal[data-v-50c668e3]{\n  display:flex;\n  align-items:center;\n  justify-content:center;\n  position:absolute;\n  top:0px;\n  right:0px;\n  bottom:0px;\n  left:0px;\n  z-index:10\n}\n.big-settings-modal .model-overlay[data-v-50c668e3]{\n  opacity:.3;\n  background-color:#4c4f5a;\n  height:100%;\n  position:absolute;\n  width:100%;\n  z-index:10\n}\n.big-settings-modal .model-body[data-v-50c668e3]{\n  border:1px solid #282323;\n  background:#191414;\n  box-shadow:0 4px 4px #000;\n  min-height:30rem;\n  width:26rem;\n  border-radius:0.75rem;\n  display:flex;\n  flex-direction:column;\n  padding:1rem;\n  position:relative;\n  text-align:left;\n  z-index:20\n}\n.big-settings-modal .remaining-height[data-v-50c668e3]{\n  flex-grow:1\n}\n.big-settings-modal .modal-footer[data-v-50c668e3]{\n  bottom:2rem;\n  width:100%\n}\n.green-button[data-v-50c668e3]{\n  background-color:#1db954;\n  border-radius:0.375rem;\n  display:block;\n  margin:auto;\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  padding-left:0.75rem;\n  padding-right:0.75rem;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity));\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none\n}\n.green-button[data-v-50c668e3]:hover{\n  background-color:#168d40\n}\n.show_more_settings_button[data-v-50c668e3]{\n  margin:.2rem 0 0 1.2rem\n}\nh2[data-v-50c668e3]{\n  font-size:1.875rem;\n  line-height:2.25rem;\n  margin-bottom:0.5rem;\n  text-align:center\n}\nh3[data-v-50c668e3]{\n  font-size:1.25rem;\n  line-height:1.75rem;\n  margin-top:0.5rem;\n  margin-bottom:0.5rem;\n  text-decoration:underline\n}\nbutton[data-v-50c668e3]{\n  color:#1db954\n}",""]),t.exports=r},296:function(t,e,n){"use strict";n(275)},297:function(t,e,n){var r=n(12)((function(i){return i[1]}));r.push([t.i,".multiselect__tag{\n  background-color:#1db954\n}\n.searchResults{\n  width:848px;\n  display:flex;\n  flex-wrap:wrap;\n  justify-content:flex-start;\n  margin-top:2rem\n}\n.searchResults>*{\n  width:180px;\n  height:180px;\n  box-shadow:0 4px 4px #000;\n  margin:1rem\n}\n.createButton .settings-button{\n  outline:2px solid transparent;\n  outline-offset:2px;\n  padding-top:0.75rem;\n  padding-bottom:0.75rem;\n  padding-left:0.75rem;\n  padding-right:0.75rem;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none\n}\n.createButton .settings-button:hover{\n  background-color:#168d40;\n  border-top-right-radius:0.375rem;\n  border-bottom-right-radius:0.375rem\n}\n@media (max-width:1000px){\n.searchResults{\n    width:636px\n}\n}\n@media (max-width:750px){\n.searchResults{\n    width:424px\n}\n.input{\n    width:300px!important\n}\n}\n@media (max-width:500px){\n.searchResults{\n    width:212px\n}\n.input{\n    width:200px!important\n}\n}",""]),t.exports=r},298:function(t,e,n){"use strict";n(276)},299:function(t,e,n){var r=n(12)((function(i){return i[1]}));r.push([t.i,".searchContainer[data-v-1973458b]{\n  display:flex;\n  align-items:center;\n  justify-content:center\n}\n.input[data-v-1973458b]{\n  width:500px;\n  border-radius:0.375rem;\n  --tw-text-opacity:1;\n  color:rgba(0, 0, 0, var(--tw-text-opacity))\n}\n.createButton[data-v-1973458b]{\n  background-color:#1db954;\n  border-radius:0.375rem;\n  display:inline-flex;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none\n}\n.createButton>button[data-v-1973458b]:hover{\n  background-color:#168d40;\n  border-top-left-radius:0.375rem;\n  border-bottom-left-radius:0.375rem\n}\n.createButton>button[data-v-1973458b]:first-child{\n  font-weight:700;\n  outline:2px solid transparent;\n  outline-offset:2px;\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  padding-left:1rem;\n  padding-right:1rem;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none\n}\n.buttonWrapper[data-v-1973458b]{\n  margin-top:2rem\n}\na[data-v-1973458b]{\n  color:#1db954;\n  text-decoration:underline\n}\n.fallback-artist[data-v-1973458b]{\n  background-color:#282828;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  align-items:center;\n  width:11.25rem;\n  height:11.25rem;\n  padding:1rem\n}\n.fallback-artist img[data-v-1973458b]{\n  margin-bottom:1rem;\n  height:4rem\n}",""]),t.exports=r},300:function(t,e,n){"use strict";n.r(e);n(78),n(38),n(79),n(63);var r,o=n(62),c=n(2),l=(n(27),n(103),n(155),n(29),n(39),n(28),n(284),n(23),n(285),n(40),n(14),n(30),n(154),n(286)),d=n.n(l),m={name:"suggestions",data:function(){return{suggestions:[{name:"AViVA",img:"https://artwork-cdn.7static.com/static/img/sleeveart/00/079/320/0007932086_350.jpg"},{name:"Eminem",img:"https://i.scdn.co/image/56f4762485066b4ef867b96e16775f2b5b4db277"},{name:"The Seige",img:"https://i.scdn.co/image/3e56ba003140ad30e8aa5d35c2db603592d4d690"},{name:"Onk Lou",img:"https://i.scdn.co/image/afb7fb59a35df2e6d8e3e7b7c80ac5fa8b2434a5"}]}}},f=(n(287),n(8)),h=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"text-3xl mt-12 -mb-8 ml-4 text-left"},[t._v("Suggestions")]),t._v(" "),n("div",{staticClass:"searchResults"},t._l(t.suggestions,(function(e){return n("div",[n("img",{staticClass:"mb-1",attrs:{src:e.img,width:"180",height:"180"}}),t._v(" "),n("p",{staticClass:"sub"},[t._v(t._s(e.name))])])})),0)])}),[],!1,null,"9c44690a",null).exports,v=(n(80),n(81),n(290)),x=n.n(v),_=n(18),y={name:"yearFilter",props:{artists:{type:Array,default:[]}},computed:{yearFilters:function(){return this.$store.state.settings.yearFilters}},methods:{addFilter:function(){this.$store.commit("settings/ADD_YEAR_FILTER",{options:[],upperBound:"",lowerBound:"",artist:""}),umami.trackEvent("Add Year Filter","settings")},deleteFilter:function(t){this.$store.commit("settings/DELETE_YEAR_FILTER",t)},onArtistChange:function(t,e){var n=this;return Object(c.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n.$store,r.t1=t,r.t2=e,r.next=5,n.$store.dispatch("spotify/GET_ALBUM_YEAR_SPAN",{artist:{id:e}});case 5:r.t3=r.sent,r.t4=n.yearFilters[t].lowerBound="",r.t5={artist:r.t2,options:r.t3,upperBound:r.t4},r.t6={index:r.t1,updateObj:r.t5},r.t0.commit.call(r.t0,"settings/UPDATE_YEAR_FILTER",r.t6);case 10:case"end":return r.stop()}}),r)})))()},onYearChange:function(t,e,n){this.$store.commit("settings/UPDATE_YEAR_FILTER",{index:t,updateObj:Object(_.a)({},n,e)})}}},k=(n(292),Object(f.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._l(t.yearFilters,(function(e,o){return r("div",{staticClass:"filter-list-item"},[r("select",{staticClass:"select artist-select",attrs:{required:"",name:"artist"},domProps:{value:t.yearFilters[o].artist},on:{change:function(e){return t.onArtistChange(o,e.target.value)}}},[r("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("\n          Select Artist\n        ")]),t._v(" "),r("option",{attrs:{value:"*"}},[t._v("All Artists")]),t._v(" "),t._l(t.artists,(function(e){return r("option",{domProps:{value:e.id}},[t._v("\n          "+t._s(e.name)+"\n        ")])}))],2),t._v(" "),t.yearFilters[o].artist?r("div",[t._v("\n        :\n        "),r("select",{staticClass:"select year-select",attrs:{required:"",name:"start-year"},domProps:{value:t.yearFilters[o].lowerBound},on:{change:function(e){return t.onYearChange(o,e.target.value,"lowerBound")}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("\n            lower bound\n          ")]),t._v(" "),t._l(t.yearFilters[o].options,(function(e){return[!t.yearFilters[o].upperBound||e<=t.yearFilters[o].upperBound?r("option",{domProps:{value:e}},[t._v("\n              "+t._s(e)+"\n            ")]):t._e()]}))],2),t._v("\n        -\n        "),r("select",{staticClass:"select year-select",attrs:{required:"",name:"end-year"},domProps:{value:t.yearFilters[o].upperBound},on:{change:function(e){return t.onYearChange(o,e.target.value,"upperBound")}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("\n            upper bound\n          ")]),t._v(" "),t._l(t.yearFilters[o].options,(function(e){return[e>=t.yearFilters[o].lowerBound?r("option",{domProps:{value:e}},[t._v("\n              "+t._s(e)+"\n            ")]):t._e()]}))],2)]):t._e(),t._v(" "),r("button",{staticClass:"delete-filter-button",attrs:{type:"button"},on:{click:function(){return t.deleteFilter(o)}}},[r("img",{attrs:{src:n(291),height:"18px",width:"18px"}})])])})),t._v(" "),t.yearFilters.length<t.artists.length?r("button",{staticClass:"text-green",attrs:{type:"button"},on:{click:t.addFilter}},[t._v("\n    Add year filter\n  ")]):t._e()],2)}),[],!1,null,"0a1bbdb0",null).exports),w={name:"settings",directives:{clickOutside:x.a.directive},components:{YearFilter:k},props:{artists:{type:Array,default:[]}},data:function(){return{settingsOpen:!1,bigSettingsModal:!1,checked:[],options:[{label:"Exlude Live Tracks",value:"live"},{label:"Exlude Instrumental Tracks",value:"instrumental"},{label:"Exlude Commentary Tracks",value:"commentary"}]}},computed:{filters:function(){return this.$store.state.settings.filters}},watch:{filters:function(t){this.checked=t}},mounted:function(){this.checked=this.filters},methods:{handleInput:function(t){this.$store.commit("settings/SET_FILTER",this.checked),umami.trackEvent(this.capitalizeFirstLetter(t),"settings")},capitalizeFirstLetter:function(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)},closeBothModals:function(){this.settingsOpen=this.bigSettingsModal=!1}}},C=(n(294),Object(f.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"relative"},[r("button",{staticClass:"settings-button",on:{click:function(e){t.settingsOpen=!0}}},[r("img",{attrs:{src:n(289),height:"18px",width:"18px"}})]),t._v(" "),t.settingsOpen&&!t.bigSettingsModal?r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeBothModals,expression:"closeBothModals"}],staticClass:"settings-wrapper"},[t._l(t.options,(function(option){return r("div",{key:option.value},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",id:option.value},domProps:{value:option.value,checked:Array.isArray(t.checked)?t._i(t.checked,option.value)>-1:t.checked},on:{change:[function(e){var n=t.checked,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=option.value,l=t._i(n,c);r.checked?l<0&&(t.checked=n.concat([c])):l>-1&&(t.checked=n.slice(0,l).concat(n.slice(l+1)))}else t.checked=o},function(e){return t.handleInput(option.value)}]}}),t._v(" "),r("label",{attrs:{for:option.value}},[t._v("\n          "+t._s(option.label)+"\n        ")]),t._v(" "),r("br")])})),t._v(" "),r("button",{staticClass:"show_more_settings_button",on:{click:function(e){t.bigSettingsModal=!0}}},[t._v("\n        Show more settings\n      ")])],2):t._e()]),t._v(" "),t.bigSettingsModal?r("div",{staticClass:"big-settings-modal"},[r("div",{staticClass:"model-overlay"}),t._v(" "),r("form",{staticClass:"model-body",on:{submit:function(e){return e.preventDefault(),t.closeBothModals(e)}}},[r("h2",[t._v("Settings")]),t._v(" "),r("h3",[t._v("Blacklist")]),t._v(" "),t._l(t.options,(function(option){return r("div",{key:"2"+option.value},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",id:option.value},domProps:{value:option.value,checked:Array.isArray(t.checked)?t._i(t.checked,option.value)>-1:t.checked},on:{change:[function(e){var n=t.checked,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=option.value,l=t._i(n,c);r.checked?l<0&&(t.checked=n.concat([c])):l>-1&&(t.checked=n.slice(0,l).concat(n.slice(l+1)))}else t.checked=o},function(e){return t.handleInput(option.value)}]}}),t._v(" "),r("label",{attrs:{for:option.value}},[t._v("\n            "+t._s(option.label)+"\n          ")]),t._v(" "),r("br")])})),t._v(" "),r("h3",[t._v("Year Filter")]),t._v(" "),r("YearFilter",{attrs:{artists:t.artists}}),t._v(" "),r("div",{staticClass:"remaining-height"}),t._v(" "),t._m(0)],2)]):t._e()])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"green-button",attrs:{type:"submit"}},[t._v("\n          Save\n        ")])])}],!1,null,"50c668e3",null).exports),E={name:"Search",components:{Multiselect:d.a,Suggestions:h,Settings:C},data:function(){return{timer:0,value:[],options:[],loading:!1,success:null,settingsOpen:!1}},methods:{onSelect:function(t){this.options=[],this.success=null,this.$store.dispatch("spotify/FETCH_ALBUMS",{artist:t})},delayedInput:function(t){var e=this;clearTimeout(this.timer),this.timer=0,this.timer=setTimeout((function(){""!==t?e.$store.state.user?(e.searchArtists.bind(e,t)(),e.$emit("update",t)):e.$notify({duration:3e3,type:"error",group:"error",text:"You need to login with your Spotify account first."}):e.options=[]}),250)},searchArtists:function(t){var e=this;this.$spotifyApi.search(this.$store.state.token,t).then((function(t){e.options=t.data.artists.items})).catch(console.error)},createMixedArtistPlaylist:(r=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,e=this.$store.state.spotify.albums,n=Object.keys(e).flatMap((function(t){return c.applyYearFilter(t,e[t])})),t.next=6,this.getAllTracks(n);case 6:return r=t.sent,(r=this.filterOutTracksFromNotWantedArtists(r)).forEach((function(track){return track.duration_ms=Math.floor(track.duration_ms/1e3)})),r=this.filterDuplicates(r,["name","duration_ms"]),r=this.removeBlacklistedTrackTypes(r),t.next=13,this.createPlaylist(this.value.map((function(t){return t.name})).join(", "));case 13:return o=t.sent,t.next=16,this.addTracksToPlaylist(o.data.id,r);case 16:this.$store.commit("settings/RESET_YEAR_FILTER"),this.loading=!1,this.success=!0,this.$notify({duration:5e3,type:"success",group:"success",text:"Successfully created your Playlist,\n check into your Spotify Account to enjoy it."}),umami.trackEvent("Create Playlist","click"),t.next=29;break;case 23:t.prev=23,t.t0=t.catch(0),this.$notify({duration:9e3,type:"error",group:"error",text:"Ups, some network issue occurred. Try again and if it keeps happening contact timon.christiansen@code.berlin"}),console.log("Error: ",t.t0),this.loading=!1,umami.trackEvent("Create Playlist","error");case 29:case"end":return t.stop()}}),t,this,[[0,23]])}))),function(){return r.apply(this,arguments)}),applyYearFilter:function(t,e){var n=this,r=function(t){return n.$store.state.settings.yearFilters.find(t)},o=function(t){return function(t){return r((function(filter){return filter.artist===t}))}(t)||r((function(filter){return"*"===filter.artist}))||null}(t);return o?e.filter((function(t){var e=function(t){return t.release_date.split("-")[0]}(t);return e>=o.lowerBound&&e<=o.upperBound})):e},filterDuplicates:function(t,e){var n=this;return t.filter((function(t,r,o){return r===o.findIndex((function(r){return n.allEqual(e.map((function(e){return t[e]===r[e]})),!0)}))}))},getAllTracks:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,c,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=[],c=[];t.length>0;)l=Math.max(Math.min(t.length,20),0),d=t.splice(0,l),r.push(e.$spotifyApi.getSeveralAlbums(e.$store.state.token,d.map((function(t){return t.id}))));return n.next=4,Promise.all(r);case 4:return n.sent.forEach((function(t){return t.data.albums.forEach((function(t){return c.push.apply(c,Object(o.a)(t.tracks.items))}))})),n.abrupt("return",c);case 7:case"end":return n.stop()}}),n)})))()},filterOutTracksFromNotWantedArtists:function(t){var e=this;return t.filter((function(track){return track.artists.some((function(t){return e.value.some((function(e){return e.id===t.id}))}))}))},createPlaylist:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$spotifyApi.createPlaylist(e.$store.state.token,e.$store.state.user.id,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},removeBlacklistedTrackTypes:function(t){var e=this.$store.state.settings.filters.map((function(filter){switch(filter){case"live":return"((?:[\\(-][\\w /]*)Live)";case"instrumental":return"((?:[\\(-][\\w /]*)Instrumental)";case"commentary":return"((?:[\\(-][\\w ]*)Commentary|Commentary(?:\\:))"}})).join("|");if(""===e)return t;var n=new RegExp(e,"i");return t.filter((function(track){return!n.test(track.name)}))},addTracksToPlaylist:function(t,e){var n=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o=[];e.length>0;)c=Math.max(Math.min(e.length,100),0),l=e.splice(0,c),o.push(n.$spotifyApi.addTracksToPlaylist(n.$store.state.token,t,l.map((function(track){return track.uri}))));return r.next=4,Promise.all(o);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()},allEqual:function(t,e){return t.every((function(t){return t===e}))}},mounted:function(){var t=this;!localStorage.getItem("notifiedAboutYearFilter")&&(new Date).getTime()<new Date("01.02.2021").getTime()&&(localStorage.setItem("notifiedAboutYearFilter","true"),this.$notify({duration:6e4,type:"success",group:"success",text:"Hey, good news! Now you also have the ability to filter the artists tracks by years. Just open the settings during playlist creation and get started. Have fun and enjoy!"})),setTimeout((function(){document.querySelector(".searchContainer input").focus()}),200),window.addEventListener("keyup",(function(e){"/"!==e.key||t.$refs.search.isOpen||document.querySelector(".searchContainer input").focus()}))}},A=(n(296),n(298),{components:{Search:Object(f.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"searchContainer"},[r("div",[r("multiselect",{ref:"search",staticClass:"input",attrs:{max:12,id:"search",label:"name","track-by":"id",multiple:!0,options:t.options,hideSelected:!0,closeOnSelect:!1,placeholder:"Select your beloved artists"},on:{select:t.onSelect,"search-change":t.delayedInput},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[r("p",{staticClass:"text-sm",attrs:{slot:"noOptions"},slot:"noOptions"},[t._v("No Artists found")])])],1)]),t._v(" "),t.value.length>0?r("div",[r("p",{staticClass:"text-3xl mt-12 -mb-8 ml-4 text-left"},[t._v("Your selected Artists")]),t._v(" "),r("div",{staticClass:"searchResults"},[t._l(t.value,(function(e){return[e.images[0]?r("img",{attrs:{src:e.images[0].url,width:"180",height:"180"}}):r("div",{staticClass:"fallback-artist"},[r("img",{staticClass:"userPicture",attrs:{src:n(283),alt:""}}),t._v(" "),r("p",[t._v(t._s(e.name))])])]}))],2)]):r("Suggestions",{staticClass:"desktop"}),t._v(" "),!t.success&&t.value.length>0?r("div",{staticClass:"buttonWrapper"},[r("div",{staticClass:"createButton"},[r("button",{staticClass:"ld-ext-left",class:{running:t.loading},on:{click:t.createMixedArtistPlaylist}},[t._v("\n        "+t._s(t.loading?"Creating":"Create Playlist")+"\n        "),r("div",{staticClass:"ld ld-ring ld-spin"})]),t._v(" "),r("settings",{attrs:{artists:t.value}})],1)]):t._e()],1)}),[],!1,null,"1973458b",null).exports},computed:{cookies:function(){for(var t=document.cookie.split(";"),e={},i=0;i<t.length;i++){var n=t[i].split("=");e[(n[0]+"").trim()]=unescape(n.slice(1).join("="))}return e}},methods:{getHashParams:function(){for(var t,e={},n=/([^&;=]+)=?([^&;]*)/g,q=window.location.hash.substring(1);t=n.exec(q);)e[t[1]]=decodeURIComponent(t[2]);return e}},mounted:function(){window.location.hostname.includes("herokuapp")&&(window.location="https://beatmix.app");var t=localStorage.getItem("state");if(t){var e=this.getHashParams(),n=e.access_token,r=e.state,o=e.expires_in;if(n&&(null==r||r!==t))return void console.log("Error during Authentication");this.$store.dispatch("SET_TOKEN",{access_token:n,expires_in:o}),this.$store.dispatch("FETCH_USER"),localStorage.removeItem("state"),this.$router.push({path:"/"})}this.cookies.spotify_auth_token&&(this.$store.commit("SET_TOKEN",this.cookies.spotify_auth_token),this.$store.dispatch("FETCH_USER"))}}),S=Object(f.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"container"},[t._m(0),t._v(" "),n("Search")],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-12"},[n("h1",{staticClass:"title"},[n("span",{staticClass:"desktop"},[t._v("\n          BeatMix for Spotify\n        ")])]),t._v(" "),n("p",{staticClass:"subtitle"},[t._v("\n        Select your favorite artists and enjoy your new playlist with all of their tracks.\n      ")])])}],!1,null,"28761fe5",null);e.default=S.exports}}]);